<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Africa Greeting Final</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
    body { background:#111; color:white; overflow-x:hidden; min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px; }

    .container { width:100%; max-width:700px; background:#222; border-radius:20px; padding:20px; position:relative; overflow:hidden; }

    .sun { position:absolute; top:20px; left:0; width:60px; height:60px; background:gold; border-radius:50%; animation:moveSun 10s linear infinite; z-index:1; }
    @keyframes moveSun { 0%{left:-80px; top:20px;} 50%{left:calc(100% - 30px); top:0px;} 100%{left:-80px; top:20px;} }

    .moon { position:absolute; top:80px; right:0; width:50px; height:50px; background:#ccc; border-radius:50%; animation:moveMoon 12s linear infinite; z-index:1; }
    @keyframes moveMoon { 0%{right:-70px; top:80px;} 50%{right:calc(100% - 40px); top:120px;} 100%{right:-70px; top:80px;} }

    .settings-btn { position:absolute; top:15px; right:15px; background:#333; padding:10px 15px; border-radius:10px; cursor:pointer; font-size:14px; z-index:2; }
    .settings-menu { position:absolute; top:50px; right:15px; width:170px; padding:15px; background:#333; border-radius:10px; display:none; z-index:2; }
    .settings-menu.show { display:block; }
    .settings-menu p { margin:10px 0; cursor:pointer; }

    .africa { width:100%; opacity:0.3; margin-top:10px; }

    .info-box { text-align:center; z-index:3; position:relative; }
    .info-box h1 { font-size:2rem; margin-bottom:10px; }
    .info-box h2, .info-box h3 { font-size:1.5rem; margin-bottom:5px; }

    .audio-player { display:none; }

    @media(max-width:480px){
        .sun{width:45px;height:45px;}
        .moon{width:40px;height:40px;}
        .settings-btn{font-size:12px;padding:8px 12px;}
        .info-box h1{font-size:1.5rem;}
        .info-box h2, .info-box h3{font-size:1.2rem;}
    }
</style>
</head>
<body onclick="allowAudio()">

<div class="container">
    <div class="sun"></div>
    <div class="moon"></div>

    <div class="settings-btn" onclick="toggleMenu()"><i class="fas fa-cog"></i> Settings</div>
    <div class="settings-menu" id="settingsMenu">
        <p id="toggleAudio"><i class="fas fa-volume-up"></i> Toggle Audio</p>
        <p><i class="fas fa-moon"></i> Night Mode</p>
        <p><i class="fas fa-sun"></i> Day Mode</p>
    </div>

    <div class="info-box">
        <h1 id="greetingText">Loading...</h1>
        <h2 id="clockText">00:00:00</h2>
        <h3 id="batteryText">Battery: --%</h3>
        <h4 id="batteryMessage">Checking battery...</h4>
    </div>

    <div class="audio-player">
        <audio id="audioPlayer" preload="auto"></audio>
    </div>

    <img src="https://upload.wikimedia.org/wikipedia/commons/8/86/Africa_(orthographic_projection).svg" class="africa" />
</div>

<script>
let audioAllowed = false;
let audioEnabled = true;
function allowAudio(){ audioAllowed=true; playAudio(); }
function toggleMenu(){ document.getElementById('settingsMenu').classList.toggle('show'); }

// CLOCK
function updateClock(){
    const now=new Date();
    const timeString=now.toLocaleTimeString();
    document.getElementById('clockText').innerText=timeString;
}
setInterval(updateClock,1000); updateClock();

// GREETING + AUDIO
function updateGreeting(){
    const hour=new Date().getHours();
    const greeting=document.getElementById('greetingText');
    const audio=document.getElementById('audioPlayer');
    let src='';
    if(hour>=5 && hour<12){ greeting.innerText='GOOD MORNING AFRICA'; src='https://cdn.pixabay.com/download/audio/2022/03/15/audio_7c6ac0cb52.mp3'; }
    else if(hour>=12 && hour<17){ greeting.innerText='GOOD AFTERNOON AFRICA'; src='https://cdn.pixabay.com/download/audio/2021/09/06/audio_3e21ba29c2.mp3'; }
    else if(hour>=17 && hour<20){ greeting.innerText='GOOD EVENING AFRICA'; src='https://cdn.pixabay.com/download/audio/2022/02/07/audio_86e0d7fcb1.mp3'; }
    else{ greeting.innerText='GOOD NIGHT AFRICA'; src='https://cdn.pixabay.com/download/audio/2022/03/15/audio_1738e9f9d9.mp3'; }
    audio.src=src;
    playAudio();
}
updateGreeting();

function playAudio(){
    const audio=document.getElementById('audioPlayer');
    if(audioAllowed && audioEnabled){
        audio.play().catch(()=>{});
    }
}
document.getElementById('toggleAudio').addEventListener('click',()=>{
    audioEnabled=!audioEnabled;
    if(audioEnabled){ playAudio(); }
    else{ document.getElementById('audioPlayer').pause(); }
});

// BATTERY
function updateBatteryInfo(level, charging){
    document.getElementById('batteryText').innerText='Battery: '+level+'%';
    let message='';
    if(charging){ message='Charging...'; }
    else if(level>80){ message='Battery full'; }
    else if(level>50){ message='Battery sufficient'; }
    else if(level>30){ message='Battery medium'; }
    else if(level>10){ message='Battery low'; }
    else{ message='Battery very low! Please charge'; }
    document.getElementById('batteryMessage').innerText=message;
}

if(navigator.getBattery){
    navigator.getBattery().then(function(battery){
        function updateAll(){ updateBatteryInfo(Math.round(battery.level*100), battery.charging); }
        updateAll();
        battery.addEventListener('levelchange',updateAll);
        battery.addEventListener('chargingchange',updateAll);
    });
}else{ document.getElementById('batteryMessage').innerText='Battery info not supported'; }
</script>

</body>
</html>
